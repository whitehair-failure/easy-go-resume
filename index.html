<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>easy-go-resume</title>

  <!-- å¼•å…¥ Quill çš„æ ·å¼å’Œè„šæœ¬ -->
  <link href="./scss/quill.snow.css" rel="stylesheet">
  <link rel="stylesheet" href="scss/quill-customize-lineheight.css">
  <link rel="stylesheet" href="scss/style.min.css">
</head>

<body>
  <!-- æ“ä½œé¢æ¿ -->

  <div class="left-container">

    <div id="operation-panel">

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title1"></span>

        <div class="example-language">
          <!-- ä¸‹æ‹‰å•é€‰æ¡† -->
          <div class="dropdown roleDropdown">
            <div class="dropdown-button" id="roleDropdownButton" data-i18n="resumeExampleDropdown.title"></div>
            <div class="dropdown-options" id="roleDropdownOptions">
              <div class="roleDropdown-option" data-value="miku" data-i18n="resumeExampleDropdown.options.miku"></div>
              <div class="roleDropdown-option" data-value="momoka" data-i18n="resumeExampleDropdown.options.momoka">
              </div>
              <div class="roleDropdown-option" data-value="ShigureUi"
                data-i18n="resumeExampleDropdown.options.ShigureUi"></div>
              <div class="roleDropdown-option" data-value="GawrGura" data-i18n="resumeExampleDropdown.options.GawrGura">
              </div>
              <div class="roleDropdown-option" data-value="TadokoroKoji"
                data-i18n="resumeExampleDropdown.options.TadokoroKoji"></div>
              <div class="roleDropdown-option" data-value="griffith" data-i18n="resumeExampleDropdown.options.griffith">
              </div>
              <div class="roleDropdown-option" data-value="voldemort"
                data-i18n="resumeExampleDropdown.options.voldemort"></div>
              <!-- <div class="roleDropdown-option" data-value="style-5">æ ·å¼ 5</div> -->
            </div>
          </div>
          <!-- ä¸‹æ‹‰å•é€‰æ¡† -->
          <div class="dropdown langDropdown">
            <div class="dropdown-button" id="langDropdownButton" data-i18n="langDropdown.title"></div>
            <div class="dropdown-options" id="langDropdownOptions">
              <div class="langDropdown-option" data-value="en" data-i18n="langDropdown.options.en"></div>
              <div class="langDropdown-option" data-value="ja" data-i18n="langDropdown.options.ja"></div>
              <div class="langDropdown-option" data-value="zh" data-i18n="langDropdown.options.zh"></div>
            </div>
          </div>
        </div>

      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title4"></span>

        <div class="btn-box">
          <button id="upload-avatar" class="confirm" data-i18n="btns.uploadAvatar"></button>
          <button id="delete-avatar" class="cancel" data-i18n="btns.deleteAvatar"></button>
        </div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title2"></span>

        <div class="add-section-box">
          <input type="text" id="section-title" />
          <button id="add-section" class="confirm" data-i18n="btns.add"></button>
        </div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title3"></span>

        <div class="h2-style-box">
          <!-- ä¸‹æ‹‰å•é€‰æ¡† -->
          <div class="dropdown">
            <div class="dropdown-button" id="dropdownButton" data-i18n="H2Dropdown.options.style"></div>
            <div class="dropdown-options" id="dropdownOptions">
              <div class="dropdown-option" data-value="" data-i18n="H2Dropdown.options.style"></div>
              <div class="dropdown-option" data-value="style-1" data-i18n="H2Dropdown.options.style1"></div>
              <div class="dropdown-option" data-value="style-2" data-i18n="H2Dropdown.options.style2"></div>
              <div class="dropdown-option" data-value="style-3" data-i18n="H2Dropdown.options.style3"></div>
              <div class="dropdown-option" data-value="style-4" data-i18n="H2Dropdown.options.style4"></div>
              <div class="dropdown-option" data-value="style-5" data-i18n="H2Dropdown.options.style5"></div>
            </div>
          </div>

          <!-- é¢œè‰²é€‰æ‹©å™¨ -->
          <div class="color-HEX-picker">
            <input type="text" id="colorHEXInput" value="#cccccc" placeholder="color">
          </div>
          <!-- é¢œè‰²é€‰æ‹©å™¨ -->
          <div class="color-picker">
            <input type="color" id="colorInput" value="#cccccc" placeholder="color">
          </div>
        </div>

      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title5"></span>

        <div class="progress-container" id="progress2"></div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title6"></span>

        <div class="progress-container" id="progress1"></div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title7"></span>
        <div class="btn-box">
          <button id="locationStorage" class="confirm" data-i18n="btns.storage"></button>
          <button id="clearLocalStorage" class="cancel" data-i18n="btns.clear"></button>
        </div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title8"></span>
        <div class="btn-box">
          <button id="printPDF" class="confirm" data-i18n="btns.print"></button>
          <button id="exportImg" class="confirm" data-i18n="btns.exportImg"></button>
        </div>
      </div>

      <div class="operation-item">
        <span data-i18n="operationOptionsTitle.title9"></span>
        <div class="btn-box">
          <button id="exportText" class="confirm" data-i18n="btns.exportText"></button>
          <button id="importText" class="confirm" data-i18n="btns.importText"></button>
        </div>
      </div>

    </div>

    <div class="collapse-panel">
      <span>ğŸ‘ˆ&nbsp;&nbsp;</span>
      <span data-i18n="btns.collapsePanel"></span>
      <span>ğŸ‘ˆ</span>
    </div>

    <div class="ReimuHakurei">
      <img src="./img/aside.png" alt="">
    </div>
  </div>

  <div class="right-container">
    <!-- ç®€å†ç›’å­ -->
    <div id="resumeBox"></div>
  </div>

  <!-- äºŒæ¬¡ç¡®è®¤å¼¹çª— -->
  <div class="overlay" id="confirmationOverlay">
    <div class="confirm-dialog">
      <p data-i18n="clearDialog.description"></p>
      <div class="btn-box">
        <button class="cancel" id="cancelClear" data-i18n="clearDialog.cancel"></button>
        <button id="confirmClear" data-i18n="clearDialog.confirm"></button>
      </div>
    </div>
  </div>

  <!-- GitHub -->
  <a href="https://github.com/whitehair-failure/easy-go-resume" class="github-corner" aria-label="View source on Github"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
</body>

</html>

<script src="./js/quill.min.js"></script>
<!-- å¼•å…¥ html2canvas åº“ -->
<script src="./js/html2canvas.min.js"></script>
<script type="module" src="./js/i18n.js"></script>
<script type="module" src="./js/index.js"></script>
<script>
  // ç§»åŠ¨ section æ¨¡æ¿
  function moveSection(button, direction) {
    // è·å–å½“å‰æŒ‰é’®çš„çˆ¶å…ƒç´ ï¼ˆå³sectionï¼‰
    const currentSection = button.closest('.section');

    // è·å–æ‰€æœ‰çš„sectionå…ƒç´ 
    const allSections = Array.from(document.querySelectorAll('.section'));

    // è·å–å½“å‰sectionçš„ä½ç½®
    const currentIndex = allSections.indexOf(currentSection);

    // å¦‚æœæ–¹å‘æ˜¯å‘ä¸Š
    if (direction === 'up' && currentIndex > 0) {
      // è·å–ä¸Šä¸€ä¸ªsection
      const prevSection = allSections[currentIndex - 1];

      // æ·»åŠ ç§»åŠ¨åŠ¨ç”»
      currentSection.style.transition = 'transform 0.3s ease';
      prevSection.style.transition = 'transform 0.3s ease';

      let currentSectionHeight = currentSection.clientHeight;
      let prevSectionHeight = prevSection.clientHeight;

      // è®©å½“å‰sectionå’Œä¸Šä¸€ä¸ªsectionç§»åŠ¨
      currentSection.style.transform = `translateY(-${prevSectionHeight}px)`;
      prevSection.style.transform = `translateY(${currentSectionHeight}px)`;

      // ä½¿ç”¨setTimeoutç¡®ä¿åŠ¨ç”»å®Œæˆåäº¤æ¢ä½ç½®
      setTimeout(() => {
        currentSection.style.transition = '';
        prevSection.style.transition = '';
        currentSection.style.transform = '';
        prevSection.style.transform = '';

        // äº¤æ¢ä½ç½®
        currentSection.parentNode.insertBefore(currentSection, prevSection);
      }, 300); // ç­‰å¾…300msï¼Œç¡®ä¿åŠ¨ç”»å®Œæˆ
    }

    // å¦‚æœæ–¹å‘æ˜¯å‘ä¸‹
    if (direction === 'down' && currentIndex < allSections.length - 1) {
      // è·å–ä¸‹ä¸€ä¸ªsection
      const nextSection = allSections[currentIndex + 1];

      // æ·»åŠ ç§»åŠ¨åŠ¨ç”»
      currentSection.style.transition = 'transform 0.3s ease';
      nextSection.style.transition = 'transform 0.3s ease';

      let currentSectionHeight = currentSection.clientHeight;
      let nextSectionHeight = nextSection.clientHeight;

      // è®©å½“å‰sectionå’Œä¸‹ä¸€ä¸ªsectionç§»åŠ¨
      currentSection.style.transform = `translateY(${nextSectionHeight}px)`;
      nextSection.style.transform = `translateY(-${currentSectionHeight}px)`;

      // ä½¿ç”¨setTimeoutç¡®ä¿åŠ¨ç”»å®Œæˆåäº¤æ¢ä½ç½®
      setTimeout(() => {
        currentSection.style.transition = '';
        nextSection.style.transition = '';
        currentSection.style.transform = '';
        nextSection.style.transform = '';

        // äº¤æ¢ä½ç½®
        currentSection.parentNode.insertBefore(nextSection, currentSection);
      }, 300); // ç­‰å¾…300msï¼Œç¡®ä¿åŠ¨ç”»å®Œæˆ
    }
  }



  // åˆ é™¤ section æ¨¡æ¿
  function removeSection(deleteBtn) {
    const section = deleteBtn.closest(".section");
    section.remove();
  }
</script>